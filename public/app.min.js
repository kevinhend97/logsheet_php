function loadColorScheme(){"dark"==localStorage.getItem("ColorScheme")?document.body.classList.add("c-dark-theme"):localStorage.setItem("ColorScheme","light")}var ajaxTime,base_url=document.querySelector("base").getAttribute("href"),loadingEl=`<div id="loadingEl" style="position:fixed;top:0;left:0;bottom:0;right:0;overflow:hidden;background: rgba(255,255,255,0.8);backdrop-filter:blur(5px);z-index:9999;transition: all 0.5 ease-in-out;">\n<img src="${base_url}/public/img/loader.gif" alt="" style="width: 75px; height: 75px; background: #0f2236; padding: 12.5px; position: absolute; top: 50%; left: 50%; bottom: initial; right: initial; box-sizing: border-box; -webkit-border-radius: 100%; -moz-border-radius: 100%; -ms-border-radius: 100%; -o-border-radius: 100%; border-radius: 100%; -webkit-transform: translate(-50%, -50%); -moz-transform: translate(-50%, -50%); -ms-transform: translate(-50%, -50%); -o-transform: translate(-50%, -50%); transform: translate(-50%, -50%);">\n</div>`,loading=e=>{"show"==e?$("body").append(loadingEl):$("#loadingEl").remove()};$.ajaxSetup({beforeSend:function(){loading("show"),ajaxTime=(new Date).getTime()},error:function(e,t,a){loading("hide"),"function"==typeof Swal?Swal.fire({title:e.status+" - "+e.statusText,text:e.responseJSON.message,icon:"error"}):alert(e.status+" - "+e.statusText+"\n"+e.responseJSON.message)},complete:function(e,t){var a=(new Date).getTime()-ajaxTime;a<500?setTimeout(function(){loading("hide")},500-a):loading("hide")}});var mutationObserveTheme=()=>{var e=new MutationObserver(function(e){e.forEach(function(e){if("class"===e.attributeName){var t=e.target.classList;t.contains("c-dark-theme")?localStorage.setItem("ColorScheme","dark"):localStorage.setItem("ColorScheme","light")}})});e.observe(document.querySelector("body"),{attributes:!0})};$(function(){$('[data-toggle="tooltip"]').tooltip(),mutationObserveTheme(),loadColorScheme()}),$(document).ajaxSuccess(function(){$('[data-toggle="tooltip"]').tooltip()});var profile=()=>{$.ajax({url:`${base_url}/Login/getProfile`,type:"GET",dataType:"JSON",success:function(e){if("success"==e.status){var t=`<div class="text-left">\n        <div class="form-group">\n            <label for="name">Name</label>\n            <input type="text" disabled class="form-control-mod" value="${e.data.name}" maxlength="100" name="name" placeholder="Name">\n        </div>\n        <div class="form-group">\n            <label for="username">Username</label>\n            <input type="text" disabled name="username" maxlength="50" value="${e.data.username}" class="form-control-mod" placeholder="Username" />\n        </div>\n        <div class="form-group">\n            <label for="email">Email</label>\n            <input type="email" disabled name="email" maxlength="100" value="${e.data.email}" class="form-control-mod" placeholder="Email" />\n        </div>\n        <div class="form-group">\n            <label for="role">Role</label>\n            <input type="text" disabled name="role" maxlength="100" value="${e.data.role}" class="form-control-mod" placeholder="Role" />\n        </div>\n        </div>`;Swal.fire({title:"Profile",html:t})}else Swal.fire({title:"Failed!",text:e.message,icon:"error"})}})},logout=()=>{"function"==typeof Swal?Swal.fire({title:"LOGOUT",text:"Are you sure want to logout ?",icon:"info",showConfirmButton:!0,showCancelButton:!0,confirmButtonText:"Logout",confirmButtonColor:"#d91717"}).then(e=>{e.value&&(window.location.href=base_url+"/Login/Logout")}):confirm("Are you sure want to logout ?")&&(window.location.href=base_url+"/Login/Logout")},changePassword=()=>{$.ajax({url:`${base_url}/Login/getProfile`,type:"GET",dataType:"JSON",success:function(e){if("success"==e.status){var t='<div class="text-left">\n        <div class="form-group">\n            <input type="text" class="form-control-mod mb-2" maxlength="50" name="oldPassword" placeholder="Old Password"/>\n            <input type="text" class="form-control-mod mb-2" maxlength="50" name="newPassword" placeholder="New Password"/>\n            <input type="text" class="form-control-mod mb-2" maxlength="50" name="repeatPassword" placeholder="Repeat Password"/>\n        </div>\n        </div>';Swal.fire({title:"Change Password",html:t,showConfirmButton:!0,confirmButtonText:"Save Changes"}).then(t=>{if(t.value){var a=$('input[name="oldPassword"]').val(),o=$('input[name="newPassword"]').val(),r=$('input[name="repeatPassword"]').val();o==r&&$.ajax({url:`${base_url}/Login/changePassword`,type:"POST",dataType:"JSON",data:{username:e.data.username,oldPassword:a,newPassword:o},success:e=>{"success"==e.status?Swal.fire({title:"Success!",text:e.message,icon:"success"}):Swal.fire({title:e.status,text:e.message,icon:"error"})}})}})}else Swal.fire({title:"Failed!",text:e.message,icon:"error"})}})};